<div class="container my-5">
  <h1 class="mb-4 display-6 border-bottom pb-2">游닂 Documentaci칩n de la API</h1>
@defer(when endpoints().length > 0){
  @for (ep of endpoints(); track ep.path) {
    <div class="card mb-4 shadow-sm">
      <div class="card-header bg-light d-flex justify-content-between align-items-center">
        <span class="fw-semibold">
          <span class="badge bg-primary text-uppercase me-2">{{ ep.method }}</span>
          <code class="text-success fs-6">{{ ep.path }}</code>
        </span>
      </div>

      <div class="card-body">
        <p class="text-muted">{{ ep.description }}</p>

        @if (ep.params?.length) {
          <h6 class="mt-3">游댢 Par치metros</h6>
          <table class="table table-sm table-bordered align-middle">
            <thead class="table-light">
              <tr><th>Nombre</th><th>Tipo</th><th>Requerido</th><th>Descripci칩n</th></tr>
            </thead>
            <tbody>
              @for (param of ep.params!; track $index) {
                <tr>
                  <td><code>{{ param.name }}</code></td>
                  <td>{{ param.type }}</td>
                  <td><span class="badge bg-{{ param.required ? 'success' : 'secondary' }}">{{ param.required ? 'S칤' : 'No' }}</span></td>
                  <td>{{ param.description || '-' }}</td>
                </tr>
              }
            </tbody>
          </table>
        }

        @if (ep.body?.length) {
          <h6 class="mt-3">游닍 Body</h6>
          <table class="table table-sm table-bordered align-middle">
            <thead class="table-light">
              <tr><th>Campo</th><th>Tipo</th><th>Descripci칩n</th></tr>
            </thead>
            <tbody>
              @for (b of ep.body!; track $index) {
                <tr>
                  <td><code>{{ b.field }}</code></td>
                  <td>{{ b.type }}</td>
                  <td>{{ b.description || '-' }}</td>
                </tr>
              }
            </tbody>
          </table>
        }

        @if (ep.response) {
          <h6 class="mt-3">游닋 Respuesta <span class="badge bg-info">{{ ep.response.status }}</span></h6>
          <pre class="bg-light p-3 border rounded text-wrap small">{{ stringify(ep.response.body) }}</pre>
        }

        @if (ep.exampleCurl) {
          <h6 class="mt-3">游늶 Ejemplo CURL</h6>
          <pre class="bg-dark text-white p-3 rounded text-wrap small">{{ ep.exampleCurl }}</pre>
        }
      </div>
    </div>
  }
  }@placeholder{
    <app-loader/>
  }
</div>
